import{_ as g,c,b as u,d as s,g as m,t as o,j as n,F as v,r as l,o as r,h as b}from"./index-dcf0a1b7.js";const f={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const i=`https://vue3-course-api.hexschool.io/v2//api/seanhong/product/${this.id}`;this.isLoading=!0,this.$http.get(i).then(e=>{e.data.success&&(this.product=e.data.product),this.isLoading=!1})},addToCart(i,e=1){const a="https://vue3-course-api.hexschool.io/v2//api/seanhong/cart",d={product_id:i,qty:e};this.isLoading=!0,this.$http.post(a,{data:d}).then(t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart")}).catch(t=>{this.isLoading=!1,this.$httpMessageState(t.response,"加入購物車")})}},created(){this.id=this.$route.params.productId,this.getProduct()}},L={class:"container"},k={"aria-label":"breadcrumb"},x={class:"breadcrumb"},y={class:"breadcrumb-item"},C={class:"breadcrumb-item active","aria-current":"page"},N={class:"row justify-content-center"},V={class:"col-8"},B=["src"],P={class:"col-4"},S={key:0,class:"h5"},T={key:1,class:"h6"},j={key:2,class:"h5"},w=s("hr",null,null,-1);function F(i,e,a,d,t,p){const h=l("Loading"),_=l("router-link");return r(),c(v,null,[u(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),s("div",L,[s("nav",k,[s("ol",x,[s("li",y,[u(_,{to:"/user/cart"},{default:m(()=>[b("購物車")]),_:1})]),s("li",C,o(t.product.title),1)])]),s("div",N,[s("article",V,[s("h2",null,o(t.product.title),1),s("div",null,o(t.product.content),1),s("div",null,o(t.product.description),1),s("img",{src:t.product.imageUrl,class:"img-fluid mb-3"},null,8,B)]),s("div",P,[t.product.price?n("",!0):(r(),c("div",S,o(t.product.origin_price)+" 元",1)),t.product.price?(r(),c("del",T,"原價 "+o(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(r(),c("div",j,"現在只要 "+o(t.product.price)+" 元",1)):n("",!0),w,s("button",{type:"button",class:"btn btn-outline-danger",onClick:e[0]||(e[0]=M=>p.addToCart(t.product.id))}," 加到購物車 ")])])])],64)}const $=g(f,[["render",F]]);export{$ as default};
