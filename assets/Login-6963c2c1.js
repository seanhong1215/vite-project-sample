import{_ as h,a as f,c as g,b as d,d as s,w as v,e as l,v as p,r as u,o as w,p as x,f as b}from"./index-35640f8d.js";import{T as L}from"./ToastMessages-2cdaec8e.js";const y={components:{ToastMessages:L},data(){return{isLoading:!1,user:{username:"",password:""}}},methods:{signIn(){this.isLoading=!0,f.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then(e=>{if(console.log(e),e.data.success===!0){const{token:o,expired:i}=e.data;document.cookie=`hexschool=${o}; expires=${new Date(i)};`,this.isLoading=!1,o&&this.$swal.fire("登入成功!","即將進入產品頁面","success").then(r=>{r.isConfirmed&&this.$router.push("/admin/products")})}}).catch(e=>{this.isLoading=!1,this.$httpMessageState(e.response,"登入")})}}},n=e=>(x("data-v-64ea7cc3"),e=e(),b(),e),I={class:"container mt-5"},M={class:"container"},S={class:"row justify-content-center"},T=n(()=>s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),k={class:"col-12"},V={class:"form-floating mb-3"},B=n(()=>s("label",{for:"username"},"Email address",-1)),$={class:"form-floating"},q=n(()=>s("label",{for:"password"},"Password",-1)),C=n(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1));function D(e,o,i,r,t,c){const m=u("Loading"),_=u("ToastMessages");return w(),g("div",I,[d(m,{active:t.isLoading,"z-index":1e3},null,8,["active"]),d(_),s("div",M,[s("div",S,[T,s("div",k,[s("form",{id:"form",class:"form-signin",onSubmit:o[2]||(o[2]=v((...a)=>c.signIn&&c.signIn(...a),["prevent"]))},[s("div",V,[l(s("input",{type:"email",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=a=>t.user.username=a),id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[p,t.user.username]]),B]),s("div",$,[l(s("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=a=>t.user.password=a),id:"password",placeholder:"Password",required:""},null,512),[[p,t.user.password]]),q]),C],32)])])])])}const P=h(y,[["render",D],["__scopeId","data-v-64ea7cc3"]]);export{P as default};
